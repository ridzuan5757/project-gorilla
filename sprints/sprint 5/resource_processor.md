# Attributes & Resource Processor

## Attributes Processor

The attributes processor modifies attributes of span, log, or metric. This
processor also supports the ability to filter and match input data to determine
if they should be included or excluded for specific actions. 

It takes a list of actions which are performed in order as per specified in the config.
The supported actions are:
- `insert` will inserts a new attribute in input data where the key does not
  already exist.
- `update` will update an attribute in input data where the key does exist.
- `upsert` will perform insert or update. Inserts a new attribute in input data
  where the key does not already exist and updates an attribute in input data
  where the key does exist.

For the actions `insert`, `update` and `upsert`:
- `key` is required.
- One of `value`, `from_attribute`, or `from_context` is required.
- `action` is required.

```yaml
  # Key specifies the attribute to act upon.
- key: <key>
  action: {insert, update, upsert}
  # Value specifies the value to populate for the key.
  # The type is inferred from the configuration.
  value: <value>

  # Key specifies the attribute to act upon.
- key: <key>
  action: {insert, update, upsert}
  # FromAttribute specifies the attribute from the input data to use to populate
  # the value. If the attribute doesn't exist, no action is performed.
  from_attribute: <other key>

  # Key specifies the attribute to act upon.
- key: <key>
  action: {insert, update, upsert}
  # FromContext specifies the context value to use to populate the attribute value. 
  # If the key is prefixed with `metadata.`, the values are searched
  # in the receiver's transport protocol additional information like gRPC Metadata or HTTP Headers. 
  # If the key is prefixed with `auth.`, the values are searched
  # in the authentication information set by the server authenticator. 
  # Refer to the server authenticator's documentation part of your pipeline for more information about which attributes are available.
  # If the key doesn't exist, no action is performed.
  # If the key has multiple values the values will be joined with `;` separator.
  from_context: <other key>
```



## Resource Processor

The resource processor can be used to apply changes on resource attributes.
`attributes` represents actions that can be applied on resource attribute. The
configuration example as follow:

```yaml
processors:
  resource:
    attributes:
    - key: cloud.availability_zone
      value: "zone-1"
      action: upsert
    - key: k8s.cluster.name
      from_attribute: k8s-cluster
      action: insert
    - key: redundant-attribute
      action: delete
```

Tasks:
- Insert `k8s.node.name` for every `k8s`-related telemetry data generated by
  each `DaemonSet` node.
